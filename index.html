<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Resin Keycap Studio ‚Äî Art You Can Touch</title>
<meta name="description" content="Artisan Resin Keycap ‚Äî Crafting Keys, Capturing Souls. Every key tells a story." />
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">

<style>
  /* ===== Design tokens ===== */
  :root{
    --bg:#0a0f18; --fg:#e6edf6; --muted:#8fa0b6;
    --line:#1b273a; --surface:#101827; --surface-2:#0b1320;
    --brand:#0ea5e9; --brand-600:#0284c7; --ok:#22c55e;
    --radius:20px; --container:1200px;
    --gutter: clamp(18px, 6vw, 120px);
    --shadow: 0 22px 60px rgba(0,0,0,.45);
  }
  /* ===== Anchor offset cho header sticky ===== */
  :root{ --headerH: 72px; }
  html{ scroll-behavior:smooth; }
  section[id]{ scroll-margin-top: calc(var(--headerH) + 12px); }
  #contact{ scroll-margin-top: calc(var(--headerH) + 12px); }

  *{box-sizing:border-box}
  html,body{margin:0;padding:0}
  body{background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
  a{color:inherit;text-decoration:none}
  img{display:block;max-width:100%}

  .container{width:min(var(--container),92%);margin-inline:auto}

  /* ===== Header ===== */
  .header{position:sticky;top:0;z-index:50;background:rgba(10,15,24,.7);backdrop-filter:blur(8px);border-bottom:1px solid var(--line)}
  .nav{min-height:72px;display:flex;align-items:center;justify-content:space-between;gap:18px;padding-inline:var(--gutter)}
  .brand{display:flex;align-items:center;gap:12px;font-weight:900}
  .brand img{width:46px;height:46px;border-radius:12px;object-fit:contain;box-shadow:var(--shadow)}
  .navlinks{display:flex;gap:28px}
  .navlinks a{padding:8px 10px;border-radius:10px;opacity:.95}
  .navlinks a:hover{background:#0f1726}
  .right{display:flex;gap:10px;align-items:center}
  .icon-btn{width:44px;height:44px;display:grid;place-items:center;border-radius:12px;border:1px solid var(--line);background:transparent;cursor:pointer}
  .cart-count{position:absolute;top:-6px;right:-6px;background:#16a34a;color:#02110f;font-weight:800;border-radius:999px;padding:2px 6px;font-size:12px;line-height:1}

  .btn{display:inline-flex;align-items:center;gap:10px;padding:12px 18px;border-radius:12px;border:1px solid var(--line);background:transparent;color:inherit;font-weight:600;cursor:pointer}
  .btn--brand{background:var(--brand);color:#06121b;border:none}
  .btn--brand:hover{background:var(--brand-600);color:#fff}
  .btn--ghost{background:transparent;border:1px solid var(--line)}

  /* ===== Hero (title 2 d√≤ng b√™n tr√°i + ·∫£nh ch·ª´a 40px b√™n ph·∫£i) ===== */
  .hero{padding:42px 0 32px}
  .hero-wrap{
    display:grid;grid-template-columns:1.05fr .95fr;gap:36px;align-items:center;
    padding-left:var(--gutter)
  }
  .hero__title{margin:0 0 12px;font-weight:900;line-height:1.1;font-size:clamp(32px,5vw,60px)}
  .hero__title .line{display:block}
  .hero__subtitle{margin:0 0 20px;color:var(--muted);font-size:clamp(16px,2.2vw,22px)}
  .hero__actions{display:flex;flex-wrap:wrap;gap:12px}

  .hero__media{
    position:relative;border:1px solid var(--line);border-radius:var(--radius);
    overflow:hidden;background:#0f1623;box-shadow:var(--shadow);
    margin-right:40px;
  }
  .hero__media::before{
    content:"";position:absolute;inset:0;pointer-events:none;
    background:
      radial-gradient(900px 360px at 10% -10%, #0ea5e91c, transparent 60%),
      radial-gradient(800px 300px at 120% 120%, #22c55e17, transparent 55%);
  }
  .hero__img{aspect-ratio:16/10;object-fit:cover;width:100%}
  .hero__cap{
    position:absolute;left:18px;bottom:14px;font-size:14px;color:#fdf6e3;
    font-family:'Dancing Script',cursive;font-weight:normal;letter-spacing:1px;
    text-shadow:2px 2px 4px rgba(0,0,0,.5);
  }
  @media (max-width:980px){
    .hero-wrap{grid-template-columns:1fr;padding-inline:var(--gutter)}
    .hero__media{order:2;margin-right:0}
  }

  /* ===== Marquee ===== */
  .marquee{border-top:1px solid var(--line);border-bottom:1px solid var(--line);background:var(--surface-2);padding:12px 0;overflow:hidden}
  .marquee .container{overflow:hidden}
  .mq-track{display:flex;gap:60px;white-space:nowrap;animation:mq 24s linear infinite}
  .mq-item{font-weight:700;opacity:.95}
  .dot{opacity:.35;margin:0 12px}
  @keyframes mq{from{transform:translateX(0)}to{transform:translateX(-50%)}}

  /* ===== Fullwidth mid-slider ===== */
  .mid-slider{position:relative;overflow:hidden;width:100%;margin-top:24px}
  .mid-slider .slide{display:none}
  .mid-slider .slide.active{display:block}
  .mid-slider img{width:100%;max-height:320px;object-fit:cover;display:block}
  .mid-slider .nav{display:none}
  .mid-slider .dots{position:absolute;bottom:12px;width:100%;text-align:center}
  .mid-slider .dots button{width:10px;height:10px;border-radius:50%;margin:0 4px;border:none;background:rgba(255,255,255,.5);cursor:pointer}
  .mid-slider .dots button.active{background:#fff}

  /* ===== Sections + products (3 c·ªôt) ===== */
  .section{padding:40px var(--gutter)}
  .section h2{margin:0 0 8px;font-size:clamp(24px,3.2vw,38px)}
  .muted{color:var(--muted)}

  /* ===== Mini Collections (showcase 1 l·ªõn + 2 nh·ªè) ===== */
  .mini-collections{ padding:24px var(--gutter) 10px }
  .mini-collections h2{ margin:0 0 14px; font-size:clamp(20px,2.8vw,28px) }
  .collections-showcase{ display:grid; gap:16px; grid-template-columns: 2fr 1.1fr; align-items:stretch }
  @media (max-width:980px){ .collections-showcase{ grid-template-columns:1fr } }
  .collection-card{ position:relative; overflow:hidden; background:var(--surface); border:1px solid var(--line); border-radius:16px; box-shadow:0 8px 30px rgba(0,0,0,.25) }
  .collection-card img{ width:100%; height:100%; object-fit:cover; display:block }
  .collection-card.card--tall{ min-height:560px }
  .collection-card.card--sm{  min-height:270px }
  .collection-card .overlay{
    position:absolute; inset:auto 0 0 0; padding:14px 16px;
    background: linear-gradient(180deg, transparent, rgba(0,0,0,.55)); color:#fff;
    display:flex; justify-content:flex-end; align-items:flex-end; gap:10px;
  }
  .collection-card .tag{ margin-right:auto; font-weight:700; letter-spacing:.3px; text-shadow:0 2px 6px rgba(0,0,0,.5) }
  .collection-card .see-more{ display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:12px; background:var(--brand); color:#06121b; border:none; font-weight:700 }
  .collection-card .see-more:hover{ background:var(--brand-600); color:#fff }

  /* ==== Collections slider (tabs + carousel) ==== */
  .coll-header{ display:flex;align-items:center;justify-content:space-between; gap:12px;margin-bottom:14px }
  .coll-tabs{display:flex;gap:8px;flex-wrap:wrap}
  .coll-tab{ padding:10px 14px;border:1px solid var(--line);border-radius:999px; background:var(--surface);color:var(--fg);cursor:pointer;transition:.15s }
  .coll-tab.active,.coll-tab:hover{border-color:var(--brand);box-shadow:0 0 0 2px #0ea5e933 inset}
  .coll-viewall{opacity:.9}
  .coll-viewall:hover{opacity:1;text-decoration:underline}
  .coll-slider{position:relative}
  .coll-nav{
    position:absolute;top:50%;translate:0 -50%;z-index:2;width:42px;height:42px;
    border:1px solid var(--line);border-radius:10px;background:#0c1423aa;backdrop-filter:blur(4px);
    display:grid;place-items:center;cursor:pointer
  }
  .coll-nav.prev{left:-6px}
  .coll-nav.next{right:-6px}
  .coll-track{
    display:flex;gap:14px;overflow:auto;scroll-snap-type:x mandatory;padding-bottom:6px;
    scrollbar-width:none
  }
  .coll-track::-webkit-scrollbar{display:none}
  .coll-card{
    min-width: clamp(240px, 28vw, 320px);
    background:var(--surface);border:1px solid var(--line);border-radius:16px;
    overflow:hidden;display:flex;flex-direction:column;scroll-snap-align:start
  }
  .coll-card img{width:100%;aspect-ratio:4/3;object-fit:cover}
  .coll-card .body{padding:12px;display:flex;flex-direction:column;gap:8px}
  .coll-card h3{margin:0;font-size:16px}
  .coll-card p{margin:0;color:var(--muted);font-size:14px}
  .coll-card .row{display:flex;align-items:center;justify-content:space-between;margin-top:auto}
  .coll-card .price{font-weight:900}
  .coll-card .btn{padding:8px 12px;border-radius:10px}

  /* Slider ngang d√πng l·∫°i cho What‚Äôs Hot & New Arrivals */
  .hcarousel { overflow-x:auto; scroll-behavior:smooth; padding-bottom:8px }
  .hcarousel-track { display:flex; gap:18px }
  .hcarousel-card { min-width:280px; background:var(--surface); border:1px solid var(--line);
    border-radius:16px; overflow:hidden; box-shadow:0 8px 30px rgba(0,0,0,.25) }
  .hcarousel-card img { width:100%; aspect-ratio:4/3; object-fit:cover }
  .hcarousel-card .meta { padding:12px }
  .hcarousel-card .name { font-weight:700; margin-bottom:4px }
  .hcarousel-card .price { font-weight:900 }
  .hcarousel-nav { position:absolute; top:50%; transform:translateY(-50%);
    border:1px solid var(--line); background:#0f1623; color:#e6edf6;
    width:40px; height:40px; border-radius:10px; cursor:pointer; z-index:1; opacity:.9 }
  .hcarousel-nav:hover { background:#122033 }
  .hcarousel-nav.prev { left:0 }
  .hcarousel-nav.next { right:0 }
</style>
</head>
<body>

<!-- ===== Header ===== -->
<header class="header">
  <div class="nav">
    <a class="brand" href="#">
      <img src="/images/logo-k-resin.png" alt="Resin Keycap Studio">
      <span>Resin Keycap Studio</span>
    </a>

    <nav class="navlinks">
      <a href="#home">Home</a>
      <a href="#collections">Collections</a>
      <a href="#custom">Custom Order</a>
      <a href="#contact">Contact</a>
    </nav>

    <div class="right">
      <button class="icon-btn" title="Account">üë§</button>
      <div style="position:relative">
        <button class="icon-btn" id="btnCart" title="Cart">üõí</button>
        <span class="cart-count" id="cartCount">0</span>
      </div>
    </div>
  </div>
</header>

<!-- ===== Hero ===== -->
<section id="home" class="hero">
  <div class="hero-wrap">
    <div>
      <h1 class="hero__title">
        <span class="line">Every Key Tells</span>
        <span class="line">a Story</span>
      </h1>
      <p class="hero__subtitle"><em>Crafting Keys, Capturing Souls</em></p>
      <div class="hero__actions">
        <a class="btn btn--brand" href="#collections">Browse Collections</a>
        <a class="btn btn--ghost" href="#custom">Custom Order</a>
      </div>
    </div>

    <div class="hero__media">
      <img class="hero__img" src="/images/title-artisan.jpg" alt="Artisan Hero"/>
      <div class="hero__cap">Art You Can Touch</div>
    </div>
  </div>
</section>

<!-- ===== Marquee / Philosophy ===== -->
<section id="philosophy" class="marquee" aria-label="Philosophy">
  <div class="container">
    <div class="mq-track">
      <div>
        <span class="mq-item">Handcrafted is Quality</span><span class="dot">‚Ä¢</span>
        <span class="mq-item">Every Keycap is One of a Kind</span><span class="dot">‚Ä¢</span>
        <span class="mq-item">Slow Made, Long Lasting</span><span class="dot">‚Ä¢</span>
        <span class="mq-item">Design Speaks</span><span class="dot">‚Ä¢</span>
        <span class="mq-item">Details Make the Difference</span><span class="dot">‚Ä¢</span>
        <span class="mq-item">Made to Be Yours</span>
      </div>
      <div aria-hidden="true">
        <span class="mq-item">Handcrafted is Quality</span><span class="dot">‚Ä¢</span>
        <span class="mq-item">Every Keycap is One of a Kind</span><span class="dot">‚Ä¢</span>
        <span class="mq-item">Slow Made, Long Lasting</span><span class="dot">‚Ä¢</span>
        <span class="mq-item">Design Speaks</span><span class="dot">‚Ä¢</span>
        <span class="mq-item">Details Make the Difference</span><span class="dot">‚Ä¢</span>
        <span class="mq-item">Made to Be Yours</span>
      </div>
    </div>
  </div>
</section>

<!-- ===== Fullwidth Slider ===== -->
<section id="mid-slider" style="padding:0;margin:0">
  <div class="mid-slider" id="midSlider">
    <div class="slide active">
      <img src="/images/title-artisan-2.jpg" alt="Slide 1">
    </div>
    <div class="slide">
      <img src="/images/title-artisan-3.jpg" alt="Slide 2">
    </div>
    <div class="slide">
      <img src="/images/title-artisan-4.jpg" alt="Slide 3">
    </div>
    <div class="dots" id="midDots"></div>
  </div>
</section>

<!-- ===== Mini Collections (3 cards) ===== -->
<section class="mini-collections">
  <div class="container">
    <h2>Collections</h2>
    <div class="collections-showcase">
      <article class="collection-card card--tall">
        <img src="/images/collection1.jpg" alt="Collection 1">
        <div class="overlay">
          <span class="tag">LE SOLEIL</span>
          <a class="see-more" href="/collections/collection1.html">View More</a>
        </div>
      </article>
      <div style="display:grid; gap:16px">
        <article class="collection-card card--sm">
          <img src="/images/collection2.jpg" alt="Collection 2">
          <div class="overlay">
            <span class="tag">SUMMER</span>
            <a class="see-more" href="/collections/collection2.html">View More</a>
          </div>
        </article>
        <article class="collection-card card--sm">
          <img src="/images/collection3.jpg" alt="Collection 3">
          <div class="overlay">
            <span class="tag">MONOCHROME</span>
            <a class="see-more" href="/collections/collection3.html">View More</a>
          </div>
        </article>
      </div>
    </div>
  </div>
</section>

<!-- ===== Collections (tabs + horizontal slider) ===== -->
<section id="collections" class="section">
  <div class="container">
    <div class="coll-header">
      <div class="coll-tabs" id="collTabs">
        <button class="coll-tab active" data-cat="top">Top Seller</button>
        <button class="coll-tab" data-cat="best">Best Picks</button>
        <button class="coll-tab" data-cat="flowers">Dried Flowers</button>
        <button class="coll-tab" data-cat="decor">Decor Items</button>
      </div>
      <a class="coll-viewall" href="#collections">View All</a>
    </div>
    <div class="coll-slider">
      <button class="coll-nav prev" aria-label="Prev">‚Äπ</button>
      <div class="coll-track" id="collTrack" tabindex="0" aria-label="Products carousel"></div>
      <button class="coll-nav next" aria-label="Next">‚Ä∫</button>
    </div>
  </div>
</section>

<!-- ===== What's Hot (slider) ===== -->
<section class="section">
  <div class="container">
    <div class="slider-head" style="display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px">
      <h2 style="margin:0">What‚Äôs Hot</h2>
      <a href="#collections" class="muted" style="text-decoration:none">View All</a>
    </div>
    <div class="hcarousel" id="hotCarousel" style="position:relative">
      <button class="hcarousel-nav prev" aria-label="Prev" style="left:-6px">‚Äπ</button>
      <div class="hcarousel-track" id="hotTrack"></div>
      <button class="hcarousel-nav next" aria-label="Next" style="right:-6px">‚Ä∫</button>
    </div>
  </div>
</section>

<!-- ===== New Arrivals (slider) ===== -->
<section class="section">
  <div class="container">
    <div class="slider-head" style="display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px">
      <h2 style="margin:0">New Arrivals</h2>
      <a href="#collections" class="muted" style="text-decoration:none">View All</a>
    </div>
    <div class="hcarousel" id="newCarousel" style="position:relative">
      <button class="hcarousel-nav prev" aria-label="Prev" style="left:-6px">‚Äπ</button>
      <div class="hcarousel-track" id="newTrack"></div>
      <button class="hcarousel-nav next" aria-label="Next" style="right:-6px">‚Ä∫</button>
    </div>
  </div>
</section>

<!-- ===== Custom Order (Netlify Forms) ===== -->
<section id="custom" class="section" style="border-top:1px solid var(--line)">
  <div class="container">
    <h2>Custom Order</h2>
    <p class="muted">Tell us your idea (profile, colors, legends, special effects). We‚Äôll craft it for you.</p>

    <form name="custom-order" method="POST" data-netlify="true" netlify-honeypot="bot-field" id="customForm"
          style="margin-top:18px;background:var(--surface);border:1px solid var(--line);border-radius:16px;padding:18px;max-width:760px">
      <input type="hidden" name="form-name" value="custom-order" />
      <p style="display:none"><label>Don‚Äôt fill this out: <input name="bot-field" /></label></p>

      <div style="display:grid;gap:12px;grid-template-columns:1fr 1fr">
        <label style="display:grid;gap:6px">Full name
          <input name="name" required placeholder="Nguyen Van A"
                 style="padding:12px;border-radius:10px;border:1px solid var(--line);background:#0b1320;color:var(--fg)">
        </label>
        <label style="display:grid;gap:6px">Email
          <input name="email" type="email" required placeholder="you@email.com"
                 style="padding:12px;border-radius:10px;border:1px solid var(--line);background:#0b1320;color:var(--fg)">
        </label>
        <label style="display:grid;gap:6px">Phone
          <input name="phone" placeholder="+84 ..."
                 style="padding:12px;border-radius:10px;border:1px solid var(--line);background:#0b1320;color:var(--fg)">
        </label>
        <label style="display:grid;gap:6px">Key profile
          <select name="profile" style="padding:12px;border-radius:10px;border:1px solid var(--line);background:#0b1320;color:var(--fg)">
            <option>Cherry</option><option>OEM</option><option>SA</option><option>Others</option>
          </select>
        </label>
      </div>

      <div style="display:grid;gap:12px;margin-top:12px">
        <label style="display:grid;gap:6px">Colors / Theme
          <input name="colors" placeholder="e.g. Galaxy purple, koi orange, monochrome..."
                 style="padding:12px;border-radius:10px;border:1px solid var(--line);background:#0b1320;color:var(--fg)">
        </label>
        <label style="display:grid;gap:6px">Legends / Text (optional)
          <input name="legend" placeholder="Short text / symbol"
                 style="padding:12px;border-radius:10px;border:1px solid var(--line);background:#0b1320;color:var(--fg)">
        </label>
        <label style="display:grid;gap:6px">Special effects (optional)
          <input name="effects" placeholder="e.g. glitter, swirl, koi, flowers..."
                 style="padding:12px;border-radius:10px;border:1px solid var(--line);background:#0b1320;color:var(--fg)">
        </label>
        <label style="display:grid;gap:6px">More details
          <textarea name="details" rows="4" placeholder="Describe your idea..."
                    style="padding:12px;border-radius:10px;border:1px solid var(--line);background:#0b1320;color:var(--fg)"></textarea>
        </label>
        <label style="display:grid;gap:6px">Reference images (URLs)
          <input name="refs" placeholder="https://... , https://..."
                 style="padding:12px;border-radius:10px;border:1px solid var(--line);background:#0b1320;color:var(--fg)">
        </label>
      </div>

      <div style="display:flex;gap:10px;margin-top:14px;align-items:center">
        <button type="submit" class="btn btn--brand">Submit Request</button>
        <span class="muted" id="customMsg" style="display:none">Sent! We‚Äôll get back within 24‚Äì48h.</span>
      </div>
    </form>
  </div>
</section>

<!-- ===== Contact (footer) ===== -->
<footer id="contact" class="section" style="border-top:1px solid var(--line);padding-top:24px">
  <div class="container" style="display:flex;flex-direction:column;gap:16px">
    <div>
      <h2 style="margin:0 0 8px">Contact ‚Äî We reply within 24 hours.</h2>
      <p style="margin:0">
        <b>Email:</b> <a href="mailto:order@yourshop.vn">order@yourshop.vn</a><br>
        <b>Phone / Zalo:</b> +84 90 123 4567
      </p>
    </div>
    <div>
      <b>Social:</b>
      <a href="https://instagram.com" target="_blank">Instagram</a> ‚Äî Our artisan gallery &nbsp;|&nbsp;
      <a href="https://facebook.com" target="_blank">Facebook</a> ‚Äî Updates & community
    </div>
    <div>
      <b>Studio:</b> Saigon ‚Äî visit by appointment<br>
      <b>Business Hours:</b> Mon‚ÄìSat, 9:00‚Äì18:00 (GMT+7)
    </div>
    <p style="font-style:italic;margin:0">We‚Äôll get back with a quote & lead time.</p>
    <div style="display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px;border-top:1px solid var(--line);padding-top:16px">
      <small>¬© <span id="y"></span> Resin Keycap Studio</small>
      <div class="muted">Terms ¬∑ Privacy</div>
    </div>
  </div>
</footer>

<!-- ===== Cart Drawer ===== -->
<aside class="drawer" id="cartDrawer" aria-label="Cart">
  <div class="drawer__head">
    <b>Your Cart</b>
    <button class="btn btn--ghost" id="closeCart">Close</button>
  </div>
  <div class="drawer__body" id="cartItems"></div>
  <div class="drawer__foot">
    <div class="total-row"><span>Total</span><span id="cartTotal">$0.00</span></div>
    <button class="btn btn--brand" style="width:100%">Checkout</button>
  </div>
</aside>

<script>
  // Year
  document.getElementById('y').textContent = new Date().getFullYear();

  // ===== Catalog (d√πng chung) =====
  const products = [
    {id:'c1',  name:'Nebula Echo',     img:'/images/c1.jpg',  price:49, profile:'Cherry', color:'Purple', collection:'Galaxy Series',   inStock:true,  desc:'Galaxy swirl, subtle sparkles ‚Äî a calm cosmic whisper.'},
    {id:'c2',  name:'Forest Mist',     img:'/images/c2.jpg',  price:45, profile:'OEM',    color:'Green',  collection:'Nature Series',   inStock:true,  desc:'Crystal‚Äëclear resin with deep green accents ‚Äî tranquil woods.'},
    {id:'c3',  name:'Monochrome Peak', img:'/images/c3.jpg',  price:47, profile:'SA',     color:'Black',  collection:'Minimal Series',  inStock:true,  desc:'Black‚Äìwhite‚Äìsilver minimalism ‚Äî clean and classy.'},
    {id:'c4',  name:'Ocean Drift',     img:'/images/c4.jpg',  price:46, profile:'Cherry', color:'Blue',   collection:'Gradient Series', inStock:true,  desc:'Sea blues fading to dusk ‚Äî smooth gradient flow.'},
    {id:'c5',  name:'Aurora Bloom',    img:'/images/c5.jpg',  price:48, profile:'OEM',    color:'Pink',   collection:'Gradient Series', inStock:true,  desc:'Soft pink‚Äìteal aurora, gentle bloom on crystal base.'},
    {id:'c6',  name:'Koi Garden',      img:'/images/c6.jpg',  price:52, profile:'SA',     color:'Orange', collection:'Nature Series',   inStock:false, desc:'Transparent pond tones with koi‚Äëlike swirls and gold.'},
    {id:'c7',  name:'Stellar Dust',    img:'/images/c7.jpg',  price:44, profile:'Cherry', color:'Black',  collection:'Galaxy Series',   inStock:true,  desc:'Deep night resin with micro‚Äëglitter ‚Äî stardust finish.'},
    {id:'c8',  name:'Canyon Amber',    img:'/images/c8.jpg',  price:45, profile:'OEM',    color:'Amber',  collection:'Nature Series',   inStock:true,  desc:'Warm amber & sand hues ‚Äî canyon breeze captured.'},
    {id:'c9',  name:'Glacier Fade',    img:'/images/c9.jpg',  price:50, profile:'SA',     color:'White',  collection:'Gradient Series', inStock:true,  desc:'Icy clear to slate gradient ‚Äî crisp, modern chill.'},
    {id:'c10', name:'Retro Vapor',     img:'/images/c10.jpg', price:43, profile:'Cherry', color:'Teal',   collection:'Minimal Series',  inStock:true,  desc:'Vaporwave tint & soft sheen ‚Äî playful, nostalgic pop.'},
  ];

  /* ===== Mid slider (auto) ===== */
  const slides = document.querySelectorAll('.mid-slider .slide');
  const dotsContainer = document.getElementById('midDots');
  let currentSlide = 0;
  slides.forEach((_, i) => {
    const dot = document.createElement('button');
    if (i === 0) dot.classList.add('active');
    dot.addEventListener('click', () => showSlide(i));
    dotsContainer.appendChild(dot);
  });
  const dots = document.querySelectorAll('.mid-slider .dots button');
  function showSlide(index) {
    slides[currentSlide].classList.remove('active');
    dots[currentSlide].classList.remove('active');
    currentSlide = index;
    slides[currentSlide].classList.add('active');
    dots[currentSlide].classList.add('active');
  }
  setInterval(()=>{ showSlide((currentSlide+1)%slides.length); }, 3000);

  /* ===== Collections slider (tabs) ===== */
  const CAT_MAP = {
    top:    ['c1','c2','c3','c4','c5','c6','c7','c8','c9','c10'],
    best:   ['c3','c5','c1','c7','c9','c2','c8','c4','c10','c6'],
    flowers:['c6','c5','c8','c2','c4','c1','c3','c7','c9','c10'],
    decor:  ['c7','c3','c9','c1','c4','c8','c2','c5','c6','c10'],
  };
  function sliderCard(p){
    return `
      <article class="coll-card" data-id="${p.id}">
        <a href="product.html?id=${p.id}" style="display:block">
          <img src="${p.img}" alt="${p.name}">
        </a>
        <div class="body">
          <h3><a href="product.html?id=${p.id}" style="text-decoration:none;color:inherit">${p.name}</a></h3>
          <p>${p.desc}</p>
          <div class="row">
            <span class="price">$${p.price.toFixed(2)}</span>
            <button class="btn btn--brand" onclick="addToCart('${p.id}')">Add to Cart</button>
          </div>
        </div>
      </article>`;
  }
  const collTrack = document.getElementById('collTrack');
  const collTabs  = document.getElementById('collTabs');
  function renderCollection(cat='top'){
    const ids = CAT_MAP[cat] || [];
    const items = ids.map(id => products.find(p=>p.id===id)).filter(Boolean).slice(0,10);
    collTrack.innerHTML = items.map(sliderCard).join('');
    collTrack.scrollTo({left:0, behavior:'instant'});
  }
  collTabs?.addEventListener('click', (e)=>{
    const btn = e.target.closest('.coll-tab');
    if(!btn) return;
    collTabs.querySelectorAll('.coll-tab').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    renderCollection(btn.dataset.cat);
  });
  document.querySelector('.coll-nav.prev')?.addEventListener('click', ()=>{
    collTrack.scrollBy({left: -collTrack.clientWidth*0.9, behavior:'smooth'});
  });
  document.querySelector('.coll-nav.next')?.addEventListener('click', ()=>{
    collTrack.scrollBy({left: collTrack.clientWidth*0.9, behavior:'smooth'});
  });
  renderCollection('top');

  /* ===== What‚Äôs Hot & New Arrivals sliders (d√πng chung) ===== */
  function smallCard(p){
    return `
      <div class="hcarousel-card">
        <a href="product.html?id=${p.id}" style="display:block">
          <img src="${p.img}" alt="${p.name}">
        </a>
        <div class="meta">
          <a href="product.html?id=${p.id}" style="text-decoration:none;color:inherit">
            <div class="name">${p.name}</div>
          </a>
          <div class="price">$${p.price.toFixed(2)}</div>
        </div>
      </div>`;
  }
  function mountSlider(rootId, trackId, items){
    const root  = document.getElementById(rootId);
    const track = document.getElementById(trackId);
    if(!root || !track) return;
    track.innerHTML = items.map(smallCard).join('');
    const prev = root.querySelector('.prev');
    const next = root.querySelector('.next');
    function step(){
      const one = track.querySelector('.hcarousel-card');
      return (one ? one.getBoundingClientRect().width : 280) + 18;
    }
    prev?.addEventListener('click', () => { root.scrollBy({ left: -step(), behavior: 'smooth' }); });
    next?.addEventListener('click', () => { root.scrollBy({ left:  step(), behavior: 'smooth' }); });
  }
  const whatsHot = products.filter(p => p.inStock).sort((a,b)=> b.price - a.price).slice(0, 12);
  const byIdAsc = [...products].sort((a,b)=>{
    const na = parseInt(a.id.replace(/\D+/g,''),10);
    const nb = parseInt(b.id.replace(/\D+/g,''),10);
    return na - nb;
  });
  const newArrivals = byIdAsc.slice(-12);
  mountSlider('hotCarousel', 'hotTrack', whatsHot);
  mountSlider('newCarousel', 'newTrack', newArrivals);

  /* ===== Cart ƒë∆°n gi·∫£n ===== */
  const cart = [];
  const cartBtn   = document.getElementById('btnCart');
  const drawer    = document.getElementById('cartDrawer');
  const closeCart = document.getElementById('closeCart');
  const cartItems = document.getElementById('cartItems');
  const cartTotal = document.getElementById('cartTotal');
  const cartCount = document.getElementById('cartCount');
  function addToCart(id){
    const p  = products.find(x=>x.id===id);
    const ex = cart.find(x=>x.id===id);
    if(ex){ ex.qty+=1; } else { cart.push({id:p.id,name:p.name,price:p.price,img:p.img,qty:1}); }
    renderCart(); openCart();
  }
  function removeFromCart(id){
    const i = cart.findIndex(x=>x.id===id);
    if(i>-1){ cart.splice(i,1); renderCart(); }
  }
  function renderCart(){
    let total=0, count=0;
    cartItems.innerHTML = cart.length
      ? cart.map(it=>{
          const sub = it.price*it.qty; total+=sub; count+=it.qty;
          return `
            <div class="cart-item">
              <img src="${it.img}" alt="${it.name}">
              <div><b>${it.name}</b><small>$${it.price.toFixed(2)} √ó ${it.qty}</small></div>
              <button class="rm" onclick="removeFromCart('${it.id}')">‚úï</button>
            </div>`;
        }).join('')
      : '<div class="muted">Your cart is empty.</div>';
    cartTotal.textContent = `$${total.toFixed(2)}`;
    cartCount.textContent = count;
  }
  function openCart(){ drawer.classList.add('open'); }
  function closeCartFn(){ drawer.classList.remove('open'); }
  cartBtn.addEventListener('click', openCart);
  closeCart.addEventListener('click', closeCartFn);
  document.addEventListener('keydown', e=>{ if(e.key==='Escape') closeCartFn(); });

  // Netlify Forms mini message
  const cf = document.getElementById('customForm');
  const cm = document.getElementById('customMsg');
  if (cf) { cf.addEventListener('submit', ()=>{ setTimeout(()=>{ if(cm) cm.style.display='inline'; }, 100); }); }
</script>
</body>
</html>
