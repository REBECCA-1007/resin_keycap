<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Product • Resin Keycap Studio</title>
<meta name="description" content="Artisan resin keycap — product detail, gallery, cart, shipping & return, and related items."/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&display=swap" rel="stylesheet">

<style>
  /* ===== Tokens ===== */
  :root{
    --bg:#0a0f18; --fg:#e6edf6; --muted:#8fa0b6;
    --line:#1b273a; --surface:#101827; --surface-2:#0b1320;
    --brand:#0ea5e9; --brand-600:#0284c7; --ok:#22c55e;
    --radius:18px; --container:1200px; --gutter: clamp(18px,6vw,120px);
    --shadow:0 22px 60px rgba(0,0,0,.45);
  }
  *{box-sizing:border-box}
  html,body{margin:0;padding:0}
  body{background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
  a{color:inherit;text-decoration:none}
  img{max-width:100%;display:block}
  .container{width:min(var(--container),92%);margin-inline:auto}

  /* ===== Header ===== */
  .header{position:sticky;top:0;z-index:50;background:rgba(10,15,24,.7);backdrop-filter:blur(8px);border-bottom:1px solid var(--line)}
  .nav{min-height:72px;display:flex;align-items:center;justify-content:space-between;gap:16px;padding-inline:var(--gutter)}
  .brand{display:flex;align-items:center;gap:12px;font-weight:900;letter-spacing:.2px}
  .brand img{width:46px;height:46px;object-fit:contain;border-radius:12px;box-shadow:var(--shadow)}
  .navlinks{display:flex;align-items:center;gap:22px}
  .navlinks a{padding:8px 10px;border-radius:10px;opacity:.92}
  .navlinks a:hover{background:#0f1726}
  .right{display:flex;align-items:center;gap:10px}
  .icon-btn{width:44px;height:44px;display:grid;place-items:center;border-radius:12px;border:1px solid var(--line);background:transparent;cursor:pointer}
  .cart-count{position:absolute;top:-6px;right:-6px;background:#16a34a;color:#02110f;font-weight:800;border-radius:999px;padding:2px 6px;font-size:12px;line-height:1}

  /* ===== Page head ===== */
  .page-head{padding:28px var(--gutter) 0}
  .breadcrumbs{color:var(--muted);font-size:14px}
  .breadcrumbs a{color:#b9c4d6}

  /* ===== Product layout ===== */
  .product{padding:28px var(--gutter) 36px}
  .product-wrap{display:grid;grid-template-columns:1.05fr .95fr;gap:28px;align-items:start}
  @media (max-width:980px){ .product-wrap{grid-template-columns:1fr} }

  /* Gallery */
  .gallery{position:relative;border:1px solid var(--line);border-radius:var(--radius);overflow:hidden;background:#0f1623;box-shadow:var(--shadow)}
  .gallery-main{position:relative}
  .g-image{aspect-ratio:4/3;object-fit:cover;width:100%;height:auto}
  .g-arrow{
    position:absolute;top:50%;transform:translateY(-50%);
    width:44px;height:44px;border-radius:12px;border:1px solid var(--line);
    background:rgba(12,20,35,.75);backdrop-filter:blur(4px);
    display:grid;place-items:center;cursor:pointer;user-select:none
  }
  .g-arrow:hover{background:rgba(20,30,48,.9)}
  .g-prev{left:10px} .g-next{right:10px}
  .thumbs{display:flex;gap:8px;padding:10px;border-top:1px solid var(--line);background:#0e1728}
  .thumbs img{
    width:64px;height:64px;object-fit:cover;border-radius:8px;border:1px solid var(--line);cursor:pointer;opacity:.8
  }
  .thumbs img.active{outline:2px solid var(--brand);opacity:1}

  /* Info */
  .info h1{margin:0 0 6px;font-size:clamp(22px,3.4vw,34px)}
  .price{font-weight:900;font-size:22px;margin:8px 0 14px}
  .muted{color:var(--muted)}
  .btn{display:inline-flex;align-items:center;gap:10px;padding:12px 18px;border-radius:12px;border:1px solid var(--line);background:transparent;color:inherit;font-weight:600;cursor:pointer}
  .btn--brand{background:var(--brand);color:#06121b;border:none}
  .btn--brand:hover{background:var(--brand-600);color:#fff}
  .btn-row{display:flex;gap:12px;flex-wrap:wrap;margin:12px 0 18px}

  /* ===== Panels without borders/background (as requested) ===== */
  .panel{border:none;background:transparent;border-radius:0;padding:0;margin:18px 0 0}
  .panel h3{margin:0 0 8px}
  .panel ul{margin:8px 0 0 18px}

  /* Related */
  .section{padding:18px var(--gutter) 36px}
  .grid{display:grid;gap:18px}
  .grid.products{grid-template-columns:repeat(4,1fr)}
  @media (max-width:1100px){.grid.products{grid-template-columns:repeat(3,1fr)}}
  @media (max-width:760px){.grid.products{grid-template-columns:repeat(2,1fr)}}
  @media (max-width:520px){.grid.products{grid-template-columns:1fr}}
  .card{background:var(--surface);border:1px solid var(--line);border-radius:16px;overflow:hidden;display:flex;flex-direction:column}
  .card img{aspect-ratio:4/3;object-fit:cover}
  .card-b{padding:12px;display:flex;flex-direction:column;gap:6px}
  .card .price{margin:2px 0 8px}

  /* Contact block — plain on black */
  .contact{border-top:1px solid var(--line);padding:32px var(--gutter)}
  .contact .wrap{max-width:980px;margin:0 auto}
  .contact .title{font-size:clamp(20px,3vw,26px);margin:0 0 6px}
  .cap{font-family:"Dancing Script",cursive;font-size:22px;color:#f6e7d5;margin-top:8px}

  footer{border-top:1px solid var(--line);padding:18px var(--gutter);color:var(--muted);display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:10px}
</style>
</head>
<body>

<!-- ===== Header ===== -->
<header class="header">
  <div class="nav">
    <a href="index.html#home" class="brand">
      <img src="/images/logo-k-resin.png" alt="Resin Keycap Studio">
      <span>Resin Keycap Studio</span>
    </a>
    <nav class="navlinks">
      <a href="index.html#home">Home</a>
      <a href="index.html#collections">Collections</a>
      <a href="#shipping">Shipping and Return</a>
      <a href="#contact">Contact</a>
    </nav>
    <div class="right">
      <button class="icon-btn" title="Account">👤</button>
      <div style="position:relative">
        <button class="icon-btn" id="btnCart" title="Cart">🛒</button>
        <span class="cart-count" id="cartCount">0</span>
      </div>
    </div>
  </div>
</header>

<!-- ===== Breadcrumbs ===== -->
<div class="page-head">
  <div class="container">
    <div class="breadcrumbs">
      <a href="index.html#home">Home</a> ·
      <a href="index.html#collections">Collections</a> ·
      <span id="bcName">Product</span>
    </div>
  </div>
</div>

<!-- ===== Product main ===== -->
<section class="product">
  <div class="product-wrap container" id="productWrap">
    <!-- Gallery (left) -->
    <div class="gallery">
      <div class="gallery-main">
        <img id="gMain" class="g-image" src="" alt="Product image">
        <button class="g-arrow g-prev" id="prevBtn">‹</button>
        <button class="g-arrow g-next" id="nextBtn">›</button>
      </div>
      <div class="thumbs" id="thumbs"></div>
    </div>

    <!-- Info (right) -->
    <div class="info">
      <h1 id="pName">Product Name</h1>
      <div class="price" id="pPrice">$0.00</div>

      <div class="btn-row">
        <button class="btn btn--brand" id="addCartBtn">Add to Cart</button>
        <a class="btn" href="index.html#collections">Back to Collections</a>
      </div>

      <!-- Item Detail: plain on black -->
      <div class="panel" id="pDesc"></div>

      <!-- Shipping & Return: plain on black -->
      <div class="panel" id="shipping">
        <h3>Shipping & Return</h3>
        <ul>
          <li>Processing time: 3–5 business days for in‑stock; 7–14 days for made‑to‑order.</li>
          <li>Worldwide shipping with tracking. ETA 5–14 business days depending on destination.</li>
          <li>Return/Exchange within 7 days for manufacturing defects (photo required).</li>
          <li>Handcrafted nature: each cap is unique — minor variations are part of the craft.</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- ===== Related ===== -->
<section class="section">
  <div class="container">
    <h2>You may also like</h2>
    <div class="grid products" id="relatedGrid"></div>
  </div>
</section>

<!-- ===== Contact (giống index, 1 khối, không card) ===== -->
<section id="contact" class="contact">
  <div class="container">
    <div class="wrap">
      <h3 class="title">Contact — We reply within 24 hours</h3>
      <p class="muted">We’ll get back with a quote & lead time.</p>
      <p><b>Email:</b> <a href="mailto:order@yourshop.vn">order@yourshop.vn</a> ·
         <b>Phone/Zalo:</b> <a href="tel:+84901234567">+84 90 123 4567</a></p>
      <p><b>Instagram:</b> <a href="https://instagram.com" target="_blank" rel="noopener">instagram.com/yourshop</a> ·
         <b>Facebook:</b> <a href="https://facebook.com" target="_blank" rel="noopener">facebook.com/yourshop</a></p>
      <p><b>Studio:</b> Saigon — visit by appointment · <b>Hours:</b> Mon–Sat 09:00–18:00 (GMT+7)</p>
      <div class="cap">Art you can touch.</div>
    </div>
  </div>
</section>

<footer>
  <small>© <span id="y"></span> Resin Keycap Studio</small>
  <div class="muted">Terms · Privacy · <a href="#contact" class="muted">Contact</a></div>
</footer>

<script>
  // ===== Helpers =====
  const $ = s => document.querySelector(s);
  const $$ = s => document.querySelectorAll(s);
  const fmt = n => `$${(+n).toFixed(2)}`;

  // Year
  $('#y').textContent = new Date().getFullYear();

  // ===== Catalog =====
  const catalog = [
    {id:'c1', name:'Nebula Echo',  price:49, 
      images:['/images/c1.jpg','/images/c1.1.jpg','/images/c1.2.jpg','/images/c1.3.jpg','/images/c1.4.jpg','/images/c1.5.jpg'],
      descHTML: `
        <h3>Item Detail</h3>
        <p>Enhance your keyboard with the <b>Poke Monster Resin Keycap</b>, an anime‑inspired, handmade accessory perfect for gaming enthusiasts. This artisan keycap, inspired by beloved monster‑catching adventures, adds a unique and playful touch to your mechanical keyboard. Designed to fit Cherry MX and MX Style switches, it’s the ideal way to showcase your love for classic anime while customizing your gaming setup. </p>
        <ul>
          <li><b>Anime‑Inspired Design:</b> captures the essence of your favorite monster adventures — fun & nostalgic. </li>
          <li><b>Handcrafted Quality:</b> high‑quality resin, durable, glossy, eye‑catching finish. </li>
          <li><b>Perfect for Gamers:</b> functional & stylish, comfortable for typing and gaming. </li>
          <li><b>Compatible:</b> Cherry MX & MX‑style switches, easy to install. </li>
          <li><b>Great Gift:</b> for gamers, anime lovers & keyboard enthusiasts. </li>
        </ul>
        <p>Add a touch of your favorite anime‑inspired adventure to your keyboard with the Poke Monster Resin Keycap — the perfect blend of functionality and fandom. </p>
      `
    },
    {id:'c2', name:'Forest Mist',      price:45, images:['/images/c2.jpg']},
    {id:'c3', name:'Monochrome Peak',  price:47, images:['/images/c3.jpg']},
    {id:'c4', name:'Ocean Drift',      price:46, images:['/images/c4.jpg']},
    {id:'c5', name:'Aurora Bloom',     price:48, images:['/images/c5.jpg']},
    {id:'c6', name:'Koi Garden',       price:52, images:['/images/c6.jpg']},
    {id:'c7', name:'Stellar Dust',     price:44, images:['/images/c7.jpg']},
    {id:'c8', name:'Canyon Amber',     price:45, images:['/images/c8.jpg']},
    {id:'c9', name:'Glacier Fade',     price:50, images:['/images/c9.jpg']},
    {id:'c10',name:'Retro Vapor',      price:43, images:['/images/c10.jpg']},
  ];

  // ===== Query param id =====
  const params = new URLSearchParams(location.search);
  const pid = params.get('id') || 'c1';
  const product = catalog.find(p=>p.id===pid) || catalog[0];

  // ===== Cart helpers (localStorage) =====
  function loadCart(){
    try{ return JSON.parse(localStorage.getItem('cart')||'[]'); }
    catch(e){ return []; }
  }
  function saveCart(c){ localStorage.setItem('cart', JSON.stringify(c)); }
  function updateCartCount(){
    const c = loadCart();
    const count = c.reduce((s,i)=>s+i.qty,0);
    $('#cartCount').textContent = count;
  }

  // ===== Render product =====
  let curIndex = 0;

  function renderProduct(){
    $('#bcName').textContent = product.name;
    $('#pName').textContent = product.name;
    $('#pPrice').textContent = fmt(product.price);
    $('#gMain').src = product.images[0];
    $('#gMain').alt = product.name;

    // Thumbs
    $('#thumbs').innerHTML = product.images.map((src,i)=>(
      `<img src="${src}" data-i="${i}" class="${i===0?'active':''}" alt="thumb ${i+1}">`
    )).join('');

    // Item Detail (plain)
    $('#pDesc').innerHTML = product.descHTML
      ? product.descHTML
      : `<h3>Item Detail</h3><p class="muted">Handcrafted resin keycap. Compatible with Cherry MX & MX‑style switches.</p>`;

    // Events
    $$('#thumbs img').forEach(img=>{
      img.addEventListener('click', ()=>{
        curIndex = +img.dataset.i;
        updateMain();
      });
    });
  }

  function updateMain(){
    $('#gMain').src = product.images[curIndex];
    $$('#thumbs img').forEach((t,i)=>t.classList.toggle('active', i===curIndex));
  }

  $('#prevBtn').addEventListener('click', ()=>{
    curIndex = (curIndex - 1 + product.images.length) % product.images.length;
    updateMain();
  });
  $('#nextBtn').addEventListener('click', ()=>{
    curIndex = (curIndex + 1) % product.images.length;
    updateMain();
  });

  // Add to cart
  $('#addCartBtn').addEventListener('click', ()=>{
    const cart = loadCart();
    const ex = cart.find(i=>i.id===product.id);
    if(ex) ex.qty += 1;
    else cart.push({id:product.id, name:product.name, price:product.price, img:product.images[0], qty:1});
    saveCart(cart);
    updateCartCount();
    $('#addCartBtn').textContent = 'Added ✓';
    setTimeout(()=>$('#addCartBtn').textContent='Add to Cart', 1200);
  });

  // ===== Related products =====
  function renderRelated(){
    const pool = catalog.filter(p=>p.id!==product.id);
    const pick = pool.slice(0,4);
    const html = pick.map(p=>`
      <article class="card">
        <a href="product.html?id=${p.id}">
          <img src="${p.images[0]}" alt="${p.name}">
        </a>
        <div class="card-b">
          <b>${p.name}</b>
          <div class="price">${fmt(p.price)}</div>
          <div style="display:flex;gap:8px;flex-wrap:wrap">
            <a class="btn btn--brand" href="product.html?id=${p.id}">View</a>
            <button class="btn" onclick="quickAdd('${p.id}')">Add</button>
          </div>
        </div>
      </article>
    `).join('');
    $('#relatedGrid').innerHTML = html;
  }

  window.quickAdd = function(id){
    const p = catalog.find(x=>x.id===id); if(!p) return;
    const cart = loadCart(); const ex = cart.find(i=>i.id===id);
    if(ex) ex.qty += 1; else cart.push({id:p.id,name:p.name,price:p.price,img:p.images[0],qty:1});
    saveCart(cart); updateCartCount();
  }

  // Init
  renderProduct(); renderRelated(); updateCartCount();

  // Cart button: quay về index (nếu cần xem drawer)
  document.getElementById('btnCart').addEventListener('click', ()=>{
    location.href = 'index.html#collections';
  });
</script>
</body>
</html>
